{% extends "base.html" %}
{% block title %}분석 결과{% endblock %}

{% block content %}
<div style="max-width:700px; margin:2em auto; padding:1.5em; border:2px solid #4caf50; border-radius:10px; background:#f9fff9;">
  <h2>🌿 EcoForest 산림 데이터 분석 결과</h2>

  {% if result %}
    <ul style="text-align:left; line-height:1.8;">
      <li><b>총 구역 수:</b> {{ result.region_count }}</li>
      <li><b>총 면적:</b> {{ result.total_area }} ha</li>
      <li><b>평균 고도:</b> {{ result.avg_altitude }} m</li>
      <li><b>최고 고도 지역:</b> {{ result.max_altitude_region }}</li>
      <li><b>최저 고도 지역:</b> {{ result.min_altitude_region }}</li>
    </ul>

    <h3>📊 시각화 (면적 그래프)</h3>
    <img src="data:image/png;base64,{{ result.chart }}" alt="Forest Chart"
         style="max-width:100%; border:1px solid #ddd; border-radius:8px; margin-bottom:1em;">

    {% if result.map %}
      <h3>🗺️ 산림 지도</h3>
      <div style="width:100%; height:400px;">
        {{ result.map | safe }}
      </div>
    {% endif %}

    <hr>
    <a href="/" style="text-decoration:none; background:#4caf50; color:white; padding:8px 12px; border-radius:5px;">← 다시 입력하기</a>

  {% else %}
    <p>결과 데이터를 불러올 수 없습니다.</p>
    <a href="/" style="text-decoration:none; background:#f44336; color:white; padding:8px 12px; border-radius:5px;">← 돌아가기</a>
  {% endif %}
</div>
{% endblock %}
